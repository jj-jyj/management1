{"remainingRequest":"D:\\jiao\\uni-app\\management1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\jiao\\uni-app\\management1\\src\\views\\user\\User.vue?vue&type=style&index=0&id=46ee9385&scoped=true&lang=css&","dependencies":[{"path":"D:\\jiao\\uni-app\\management1\\src\\views\\user\\User.vue","mtime":1604055451196},{"path":"D:\\jiao\\uni-app\\management1\\node_modules\\css-loader\\index.js","mtime":1603939408854},{"path":"D:\\jiao\\uni-app\\management1\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1603939447960},{"path":"D:\\jiao\\uni-app\\management1\\node_modules\\postcss-loader\\src\\index.js","mtime":1603939452316},{"path":"D:\\jiao\\uni-app\\management1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1603939427007},{"path":"D:\\jiao\\uni-app\\management1\\node_modules\\vue-loader\\lib\\index.js","mtime":1603939447929}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.box-card{\r\n\theight: 100%;\r\n}\r\n.input{\r\n\twidth: 300px;\r\n}\r\n.btn{\r\n\tmargin-left: 15px;\r\n}\r\n.row{\r\n\tmargin-top: 20px;\r\n}\r\n",{"version":3,"sources":["User.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"User.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\r\n<el-card class=\"box-card\">   \r\n\t\t<!-- 面包屑 -->\r\n\t\t<!-- 首页用户管理用户列表 -->\r\n\t<el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n\t  <el-breadcrumb-item>首页</el-breadcrumb-item>\r\n\t  <el-breadcrumb-item>用户管理</el-breadcrumb-item>\r\n\t  <el-breadcrumb-item>用户列表</el-breadcrumb-item>\r\n\t</el-breadcrumb>\r\n\t\t<!-- 搜索框 -->\r\n\t<el-row class=\"row\">\r\n\t  <el-col>\r\n\t\t<el-input placeholder=\"请输入内容\" v-model=\"search\" class=\"input\">\r\n\t    <el-button slot=\"append\" icon=\"el-icon-search\"></el-button>\r\n\t  </el-input>\r\n\t  <el-button type=\"primary\" class=\"btn\">添加用户</el-button>\r\n\t  </el-col>\r\n\t</el-row>\r\n\t\t<!-- 表格 -->\r\n\t<el-table\r\n\t    :data=\"userlist\"\r\n\t    stripe\r\n\t    style=\"width: 100%\">\r\n\t    <el-table-column\r\n\t\ttype=\"index\"\r\n\t      label=\"#\"\r\n\t      width=\"50\">\r\n\t    </el-table-column>\r\n\t    <el-table-column\r\n\t      prop=\"username\"\r\n\t      label=\"姓名\"\r\n\t      width=\"120\">\r\n\t    </el-table-column>\r\n\t\t<el-table-column\r\n\t      prop=\"email\"\r\n\t      label=\"邮箱\">\r\n\t    </el-table-column>\r\n\t    <el-table-column\r\n\t      prop=\"mobile\"\r\n\t      label=\"电话\">\r\n\t    </el-table-column>\r\n\t\t<el-table-column\r\n\t      prop=\"create_time\"\r\n\t      label=\"时间\">\r\n\t    </el-table-column>\r\n\t\t<el-table-column\r\n\t      prop=\"role_name\"\r\n\t      label=\"角色\">\r\n\t    </el-table-column>\r\n\t\t<el-table-column\r\n\t      prop=\"address\"\r\n\t      label=\"状态\">\r\n\t    </el-table-column>\r\n\t\t<el-table-column\r\n\t      prop=\"address\"\r\n\t      label=\"操作\">\r\n\t    </el-table-column>\r\n\t  </el-table>\r\n\t\t<!-- 分页 -->\r\n</el-card>\t\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'User',\r\n  data(){\r\n\t  return{\r\n\t\t  search:'',\r\n\t\t  total:1,\r\n\t\t  pagenum:1,\r\n\t\t  pagesize:5,\r\n\r\n\t\t  userlist: [{\r\n        }]\r\n\t  }\r\n  },\r\n  components: { },\r\n  created(){\r\n\t  this.getuserinfo()\r\n  },\r\n  methods:{\r\n\tasync getuserinfo(){\r\n\t\t// 2.虽然按照接口文档将参数传递过去了,但还是获取不到数据,需要授权的API,必须在请求头中使用Authorization 字段提供token 令牌\r\n// 获取token值\r\nconst AUTH_TOKEN = localStorage.getItem('token')\r\n// 设置请求头\r\nthis.$http.defaults.headers.common['Authorization'] = AUTH_TOKEN\r\n\r\n// 1.请求列表的数据\r\n\t\tconst res = await this.$http.get(\r\n\t\t\t`users?query=${this.search}&pagenum=${this.pagenum}&pagesize=${this.pagesize}`)  //有参数要传递参数\r\n\tconsole.log(res)\r\n\t// 拿到数据后将要用到的数据结构出来\r\n\tconst {\r\n\t\tdata:{total,users},\r\n\t\tmeta:{msg,status}\r\n\t} = res.data\r\n\tif(status===200){\r\n// 1.给表格数据赋值\r\n\tthis.userlist= users\r\n\t// 2.给total赋值\r\n\tthis.total = total\r\n\t// 3.提示\r\n\tthis.$message.success(msg)\r\n\t}else{\r\n\tthis.$message.warning(msg)\r\n\t}\r\n\t\r\n\t}\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.box-card{\r\n\theight: 100%;\r\n}\r\n.input{\r\n\twidth: 300px;\r\n}\r\n.btn{\r\n\tmargin-left: 15px;\r\n}\r\n.row{\r\n\tmargin-top: 20px;\r\n}\r\n</style>\r\n"]}]}